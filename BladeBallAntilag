local function setSmoothPlastic(part)
    if part:IsA("MeshPart") or part:IsA("Part") then
        -- Check if the part is not a player's character
        if not part:IsDescendantOf(game.Players.LocalPlayer.Character) then
            part.Material = Enum.Material.SmoothPlastic -- Set material to SmoothPlastic
        end
    end
end

local function updateMapMaterials()
    -- Get all parts in the Workspace
    local parts = game.Workspace:GetDescendants()

    -- Set non-player parts to SmoothPlastic
    for _, part in ipairs(parts) do
        setSmoothPlastic(part)
    end
end

-- Initial run when the script is loaded
updateMapMaterials()

-- Update materials whenever a new part is added to the Workspace
game.Workspace.DescendantAdded:Connect(function(descendant)
    setSmoothPlastic(descendant)
end)

-- Continuously update materials using RunService.Stepped to catch any missed parts
game:GetService("RunService").Stepped:Connect(function()
    updateMapMaterials()
end)

-- Adjust game settings for anti-lag and smooth plastic appearance
local workspace = game.Workspace
local terrain = workspace.Terrain

-- Disable water and water waves
terrain.WaterWaveSize = 0
terrain.WaterWaveSpeed = 0
terrain.WaterReflectance = 0
terrain.WaterTransparency = 0

-- Additional water options to minimize lag
terrain.WaterColor = Color3.new(0, 0, 0) -- Set water color to black (you can change the color if desired)
terrain.WaterMurkiness = 0 -- Set water murkiness to 0
terrain.RippleSize = 0 -- Set ripple size to 0
terrain.WaveSize = 0 -- Set wave size to 0
terrain.WaveSpeed = 0 -- Set wave speed to 0
terrain.WaveTransparency = 0 -- Set wave transparency to 0

-- Set the time of day lighting to avoid water reflections
game.Lighting:SetMinutesAfterMidnight(12 * 60) -- Set time to noon

-- Adjust other rendering options to minimize lag
game.Lighting.GlobalShadows = false -- Disable global shadows
game.Lighting.FogEnd = 9e9 -- Set fog end to a very high value to avoid fog
game.Lighting.Brightness = 0 -- Set brightness to 0

-- Set quality level to the lowest (Level01)
settings().Rendering.QualityLevel = "Level01"
-- FPS COUNTER
repeat wait() until game:IsLoaded() wait(2)
local ScreenGui = Instance.new("ScreenGui")
local Fps = Instance.new("TextLabel")
local Ping = Instance.new("TextLabel")

--Properties:

ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Fps.Name = "Fps"
Fps.Parent = ScreenGui
Fps.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Fps.BackgroundTransparency = 1.000
Fps.Position = UDim2.new(0.786138654, 0, 0, 0)
Fps.Size = UDim2.new(0, 125, 0, 25)
Fps.Font = Enum.Font.Arcade
Fps.TextColor3 = Color3.fromRGB(255, 255, 255)
Fps.TextScaled = true
Fps.TextSize = 14.000
Fps.TextWrapped = true

Ping.Name = "Ping"
Ping.Parent = ScreenGui
Ping.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Ping.BackgroundTransparency = 1.000
Ping.BorderColor3 = Color3.fromRGB(255, 255, 255)
Ping.Position = UDim2.new(0.700000048, 0, 0, 0)
Ping.Size = UDim2.new(0, 125, 0, 25)
Ping.Font = Enum.Font.Arcade
Ping.TextColor3 = Color3.fromRGB(253, 253, 253)
Ping.TextScaled = true
Ping.TextSize = 14.000
Ping.TextWrapped = true

-- Scripts:

local script = Instance.new('LocalScript', Fps)
local RunService = game:GetService("RunService")
RunService.RenderStepped:Connect(function(frame) -- This will fire every time a frame is rendered
script.Parent.Text = ("FPS: "..math.round(1/frame)) 
end)


local script = Instance.new('LocalScript', Ping)
local RunService = game:GetService("RunService")
RunService.RenderStepped:Connect(function(ping) 
script.Parent.Text = ("Ping: " ..game:GetService("Stats").Network.ServerStatsItem["Data Ping"]:GetValueString(math.round(2/ping))) -- your ping
end)
